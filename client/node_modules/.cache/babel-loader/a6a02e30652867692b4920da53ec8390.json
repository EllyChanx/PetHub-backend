{"ast":null,"code":"import _classCallCheck from \"/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/src/components/PetsListings.js\";\nimport React, { Component } from 'react';\nimport { Container, Header, Segment, Button, Icon, Dimmer, Loader, Divider, Card } from 'semantic-ui-react';\nimport Navbar from './Navbar';\n\nvar PetsListings =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(PetsListings, _Component);\n\n  function PetsListings() {\n    var _this;\n\n    _classCallCheck(this, PetsListings);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(PetsListings).call(this));\n    _this.state = {};\n    _this.getPets = _this.getPets.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.getPet = _this.getPet.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.routeChange = _this.routeChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(PetsListings, [{\n    key: \"routeChange\",\n    value: function routeChange(id) {\n      var path = \"/pets/\".concat(id);\n      this.props.history.push(path);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getPets();\n    }\n  }, {\n    key: \"fetch\",\n    value: function fetch(endpoint) {\n      return window.fetch(endpoint).then(function (response) {\n        return response.json();\n      }).catch(function (error) {\n        return console.log(error);\n      });\n    }\n  }, {\n    key: \"getPets\",\n    value: function getPets() {\n      var _this2 = this;\n\n      this.fetch('http://localhost:3001/pets').then(function (pets) {\n        if (pets.length) {\n          _this2.setState({\n            pets: pets\n          });\n\n          _this2.getPet(pets[0].id);\n        } else {\n          _this2.setState({\n            pets: []\n          });\n        }\n      });\n    }\n  }, {\n    key: \"getPet\",\n    value: function getPet(id) {\n      var _this3 = this;\n\n      this.fetch(\"http://localhost:3001/pets/\".concat(id)).then(function (pet) {\n        return _this3.setState({\n          pet: pet\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var _this$state = this.state,\n          pets = _this$state.pets,\n          pet = _this$state.pet;\n      return pet ? React.createElement(Container, {\n        text: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      }, React.createElement(Divider, {\n        hidden: true,\n        section: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50\n        },\n        __self: this\n      }), pets && pets.length ? React.createElement(Card.Group, {\n        itemsPerRow: 2,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, Object.keys(pets).map(function (key) {\n        return React.createElement(Card, {\n          active: pet && pet.id === pets[key].id,\n          fluid: true,\n          key: key,\n          onClick: function onClick() {\n            return _this4.routeChange(pets[key].id);\n          },\n          image: pets[key].pet_picture,\n          header: pets[key].name,\n          description: pets[key].description,\n          meta: pets[key].tag,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        });\n      })) : React.createElement(Container, {\n        textAlign: \"center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }, \"No Pets found.\"), React.createElement(Divider, {\n        section: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      })) : React.createElement(Container, {\n        text: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(Dimmer, {\n        active: true,\n        inverted: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(Loader, {\n        content: \"Loading\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return PetsListings;\n}(Component);\n\nexport default PetsListings;","map":{"version":3,"sources":["/Users/ijeomanelson/Documents/Projects 2019/Makers_Academy/FinalProject/PetHub-backend/client/src/components/PetsListings.js"],"names":["React","Component","Container","Header","Segment","Button","Icon","Dimmer","Loader","Divider","Card","Navbar","PetsListings","state","getPets","bind","getPet","routeChange","id","path","props","history","push","endpoint","window","fetch","then","response","json","catch","error","console","log","pets","length","setState","pet","Object","keys","map","key","pet_picture","name","description","tag"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,SAAT,EAAoBC,MAApB,EAA4BC,OAA5B,EAAqCC,MAArC,EAA6CC,IAA7C,EAAmDC,MAAnD,EAA2DC,MAA3D,EAAmEC,OAAnE,EAA4EC,IAA5E,QAAwF,mBAAxF;AACA,OAAOC,MAAP,MAAmB,UAAnB;;IAEMC,Y;;;;;AACJ,0BAAc;AAAA;;AAAA;;AACZ;AACA,UAAKC,KAAL,GAAa,EAAb;AACA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaC,IAAb,uDAAf;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYD,IAAZ,uDAAd;AACA,UAAKE,WAAL,GAAmB,MAAKA,WAAL,CAAiBF,IAAjB,uDAAnB;AALY;AAMb;;;;gCAEWG,E,EAAG;AACb,UAAIC,IAAI,mBAAYD,EAAZ,CAAR;AACA,WAAKE,KAAL,CAAWC,OAAX,CAAmBC,IAAnB,CAAwBH,IAAxB;AACD;;;wCAEmB;AAClB,WAAKL,OAAL;AACD;;;0BAEKS,Q,EAAU;AACd,aAAOC,MAAM,CAACC,KAAP,CAAaF,QAAb,EACJG,IADI,CACC,UAAAC,QAAQ;AAAA,eAAIA,QAAQ,CAACC,IAAT,EAAJ;AAAA,OADT,EAEJC,KAFI,CAEE,UAAAC,KAAK;AAAA,eAAIC,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ;AAAA,OAFP,CAAP;AAGD;;;8BAES;AAAA;;AACR,WAAKL,KAAL,CAAW,4BAAX,EACGC,IADH,CACQ,UAAAO,IAAI,EAAI;AACZ,YAAIA,IAAI,CAACC,MAAT,EAAiB;AACf,UAAA,MAAI,CAACC,QAAL,CAAc;AAACF,YAAAA,IAAI,EAAEA;AAAP,WAAd;;AACA,UAAA,MAAI,CAACjB,MAAL,CAAYiB,IAAI,CAAC,CAAD,CAAJ,CAAQf,EAApB;AACD,SAHD,MAGO;AACL,UAAA,MAAI,CAACiB,QAAL,CAAc;AAACF,YAAAA,IAAI,EAAE;AAAP,WAAd;AACD;AACF,OARH;AASD;;;2BAEMf,E,EAAI;AAAA;;AACT,WAAKO,KAAL,sCAAyCP,EAAzC,GACGQ,IADH,CACQ,UAAAU,GAAG;AAAA,eAAI,MAAI,CAACD,QAAL,CAAc;AAACC,UAAAA,GAAG,EAAEA;AAAN,SAAd,CAAJ;AAAA,OADX;AAED;;;6BAES;AAAA;;AAAA,wBACS,KAAKvB,KADd;AAAA,UACJoB,IADI,eACJA,IADI;AAAA,UACEG,GADF,eACEA,GADF;AAEP,aAAOA,GAAG,GACN,oBAAC,SAAD;AAAW,QAAA,IAAI,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,OAAD;AAAS,QAAA,MAAM,MAAf;AAAgB,QAAA,OAAO,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEGH,IAAI,IAAIA,IAAI,CAACC,MAAb,GACG,oBAAC,IAAD,CAAM,KAAN;AAAY,QAAA,WAAW,EAAE,CAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACCG,MAAM,CAACC,IAAP,CAAYL,IAAZ,EAAkBM,GAAlB,CAAsB,UAACC,GAAD,EAAS;AAC9B,eAAO,oBAAC,IAAD;AACP,UAAA,MAAM,EAAEJ,GAAG,IAAIA,GAAG,CAAClB,EAAJ,KAAWe,IAAI,CAACO,GAAD,CAAJ,CAAUtB,EAD7B;AAEP,UAAA,KAAK,MAFE;AAED,UAAA,GAAG,EAAEsB,GAFJ;AAGP,UAAA,OAAO,EAAE;AAAA,mBAAM,MAAI,CAACvB,WAAL,CAAiBgB,IAAI,CAACO,GAAD,CAAJ,CAAUtB,EAA3B,CAAN;AAAA,WAHF;AAIP,UAAA,KAAK,EAAEe,IAAI,CAACO,GAAD,CAAJ,CAAUC,WAJV;AAKP,UAAA,MAAM,EAAER,IAAI,CAACO,GAAD,CAAJ,CAAUE,IALX;AAMP,UAAA,WAAW,EAAET,IAAI,CAACO,GAAD,CAAJ,CAAUG,WANhB;AAOP,UAAA,IAAI,EAAEV,IAAI,CAACO,GAAD,CAAJ,CAAUI,GAPT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AASC,OAVF,CADD,CADH,GAcG,oBAAC,SAAD;AAAW,QAAA,SAAS,EAAC,QAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAhBN,EAkBE,oBAAC,OAAD;AAAS,QAAA,OAAO,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBF,CADM,GAqBR,oBAAC,SAAD;AAAW,QAAA,IAAI,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,MAAM,MAAd;AAAe,QAAA,QAAQ,MAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AAAQ,QAAA,OAAO,EAAC,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,CArBF;AA0BD;;;;EArEuB3C,S;;AAyE3B,eAAeW,YAAf","sourcesContent":["import React, {Component} from 'react';\nimport { Container, Header, Segment, Button, Icon, Dimmer, Loader, Divider, Card } from 'semantic-ui-react';\nimport Navbar from './Navbar'\n\nclass PetsListings extends Component {\n  constructor() {\n    super();\n    this.state = {};\n    this.getPets = this.getPets.bind(this);\n    this.getPet = this.getPet.bind(this);\n    this.routeChange = this.routeChange.bind(this);\n  }\n\n  routeChange(id){\n    let path = `/pets/${id}`;\n    this.props.history.push(path);\n  }\n\n  componentDidMount() {\n    this.getPets();\n  }\n\n  fetch(endpoint) {\n    return window.fetch(endpoint)\n      .then(response => response.json())\n      .catch(error => console.log(error))\n  }\n\n  getPets() {\n    this.fetch('http://localhost:3001/pets')\n      .then(pets => {\n        if (pets.length) {\n          this.setState({pets: pets});\n          this.getPet(pets[0].id)\n        } else {\n          this.setState({pets: []})\n        }\n      })\n  }\n\n  getPet(id) {\n    this.fetch(`http://localhost:3001/pets/${id}`)\n      .then(pet => this.setState({pet: pet}))\n  }\n\n  render () {\n   let {pets, pet} = this.state;\n     return pet\n       ? <Container text>\n           <Divider hidden section />\n           {pets && pets.length\n             ? <Card.Group itemsPerRow={2}>\n               {Object.keys(pets).map((key) => {\n                 return <Card\n                 active={pet && pet.id === pets[key].id}\n                 fluid key={key}\n                 onClick={() => this.routeChange(pets[key].id)}\n                 image={pets[key].pet_picture}\n                 header={pets[key].name}\n                 description={pets[key].description}\n                 meta={pets[key].tag}\n                 />\n                 })}\n             </Card.Group>\n             : <Container textAlign='center'>No Pets found.</Container>\n           }\n           <Divider section />\n       </Container>\n     : <Container text>\n         <Dimmer active inverted>\n           <Loader content='Loading' />\n         </Dimmer>\n       </Container>\n   }\n\n}\n\nexport default PetsListings;\n"]},"metadata":{},"sourceType":"module"}